/*! For license information please see poll_management.js.LICENSE.txt */
(self.webpackChunkadhocracy_plus=self.webpackChunkadhocracy_plus||[]).push([[549],{3246:function(e,t,n){"use strict";var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.updateDashboard=void 0;var o=r(n(4687)),i=r(n(7156)),a=[".l-menu__menu",".l-menu__aside",".js-selector-update-dashboard"];t.updateDashboard=function(){var e=(0,i.default)(o.default.mark((function e(){var t,n,r,i,l,u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(window.location.pathname);case 2:return t=e.sent,e.next=5,t.text();case 5:n=e.sent;try{r=new DOMParser,i=r.parseFromString(n,"text/html"),l=a.join(", "),u=i.querySelectorAll(l),document.querySelectorAll(l).forEach((function(e,t){e.replaceWith(u[t])}))}catch(e){console.log("error",e)}case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},6090:function(e,t,n){"use strict";var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.EditPollChoice=void 0;var o=r(n(7294)),i=r(n(8023)),a=r(n(4032));t.EditPollChoice=function(e){return o.default.createElement("div",{className:"form-group"},o.default.createElement("div",{htmlFor:"id_choices-"+e.id+"-name"},i.default.pgettext("noun","Answer")," ",e.index,e.choiceId&&o.default.createElement("span",{className:"editpoll__help-text"}," Id: A",e.choiceId),o.default.createElement("span",{className:"visually-hidden"},e.label)),o.default.createElement("div",{className:"input-group"},o.default.createElement("input",{id:"id_choices-"+e.id+"-name",name:"choices-"+e.id+"-name",type:"text",className:"input-group__input",value:e.choice.label,onChange:function(t){e.onLabelChange(t.target.value)},disabled:e.isOther,"aria-invalid":e.errors?"true":"false","aria-describedby":e.errors&&"id_error-"+e.id}),o.default.createElement("button",{className:"input-group__after btn editpoll__btn--delete",onClick:e.onDelete,title:i.default.gettext("remove"),type:"button",disabled:e.undeletable},o.default.createElement("i",{className:"fa fa-times","aria-label":i.default.gettext("remove")}))),o.default.createElement(a.default,{id:"id_error-"+e.id,error:e.errors,field:"label"}))}},9427:function(e,t,n){"use strict";var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(7294)),i=r(n(8023)),a={new:i.default.gettext(" New Question"),multi:i.default.gettext("Multiple Choice question"),open:i.default.gettext("Open question")};t.default=function(e){return o.default.createElement("div",{className:"dropdown editpoll__dropdown"},o.default.createElement("button",{type:"button",className:"dropdown-toggle btn btn--light","aria-haspopup":"true","aria-expanded":"false","data-bs-toggle":"dropdown"},o.default.createElement("i",{className:"fa fa-plus"}),a.new),o.default.createElement("div",{className:"dropdown-menu"},o.default.createElement("button",{key:"1",className:"dropdown-item",type:"button",onClick:e.handleToggleMulti},a.multi),o.default.createElement("button",{key:"2",className:"dropdown-item",type:"button",onClick:e.handleToggleOpen},a.open)))}},6951:function(e,t,n){"use strict";var r=n(4836),o=n(8698);Object.defineProperty(t,"__esModule",{value:!0}),t.EditPollManagement=void 0;var i=r(n(434)),a=r(n(7424)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=o(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(7294)),u=r(n(8023)),c=r(n(7794)),s=r(n(7145)),d=n(543),f=n(7870),p=r(n(9427)),h=n(3246),m=r(n(7673)),g=r(n(5611));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}var y=0,b=function(){return"local_"+y++};t.EditPollManagement=function(e){var t=(0,l.useState)([]),n=(0,a.default)(t,2),r=n[0],o=n[1],v=(0,l.useState)([]),y=(0,a.default)(v,2),_=y[0],E=y[1],x=(0,l.useState)(null),N=(0,a.default)(x,2),w=N[0],C=N[1];(0,l.useEffect)((function(){m.default.poll.get(e.pollId).done((function(e){var t=e.questions;t.length>0?o(t):o([O()])}))}),[]);var O=function(){return{label:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",help_text:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",multiple_choice:!1,key:b(),is_open:!1,choices:[j(),j()],answers:[]}},D=function(e,t){var n={};n[e]={$merge:{label:t}},o((0,s.default)(r,n))},P=function(e,t){var n={};n[e]={$merge:{help_text:t}},o((0,s.default)(r,n))},A=function(e,t){var n,i=e&&e.isOpen?function(){var e=O(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"");return e.is_open=!0,e.choices=[],e}():O();n={$push:[i]},o((0,s.default)(r,n))},k=function(e){var t;t={$splice:[[e,1]]},o((0,s.default)(r,t))},M=function(e){var t;t={$splice:[[e,1],[e-1,0,r[e]]]},o((0,s.default)(r,t))},q=function(e){var t;t={$splice:[[e,1],[e+1,0,r[e]]]},o((0,s.default)(r,t))},j=function(){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{label:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",key:e?"other-choice":b(),is_other_choice:e}},S=function(){C(null)};return l.default.createElement("form",{onSubmit:function(t){return function(t){t.preventDefault();var n={questions:r};m.default.poll.change(n,e.pollId).done((function(t){o(t.questions),C({alertAttribute:"polite",type:"success",message:u.default.gettext("The poll has been updated.")}),E([]),e.reloadOnSuccess&&(0,h.updateDashboard)()})).fail((function(e,t,n){e.responseJSON&&"questions"in e.responseJSON&&E(e.responseJSON.questions),C({alertAttribute:"assertive",type:"danger",message:u.default.gettext("The poll could not be updated. Please check the data you entered again.")})}))}(t)},onChange:function(){return S()},className:"editpoll__questions"},l.default.createElement(c.default,{easing:"cubic-bezier(0.25, 0.5, 0.75, 1)"},r.map((function(e,t,n){var i=e.id||e.key;return e.is_open?l.default.createElement("div",{key:i},l.default.createElement(f.EditPollOpenQuestion,{id:i,question:e,onLabelChange:function(e){return D(t,e)},onHelptextChange:function(e){return P(t,e)},onMoveUp:0!==t?function(){return M(t)}:null,onMoveDown:t<n.length-1?function(){return q(t)}:null,onDelete:function(){return k(t)},errors:_&&_[t]?_[t]:{}})):l.default.createElement("div",{key:i},l.default.createElement(d.EditPollQuestion,{id:i,question:e,onLabelChange:function(e){return D(t,e)},onHelptextChange:function(e){return P(t,e)},onMultipleChoiceChange:function(e){return function(e,t){var n={};n[e]={$merge:{multiple_choice:t}},o((0,s.default)(r,n))}(t,e)},onMoveUp:0!==t?function(){return M(t)}:null,onMoveDown:t<n.length-1?function(){return q(t)}:null,onDelete:function(){return k(t)},errors:_&&_[t]?_[t]:{},onHasOtherChoiceChange:function(e){return function(e,t){var n={};if(t){var i=j("other",!0);n[e]={choices:{$push:[i]}}}else{var a=r[e].choices.findIndex((function(e){return"other-choice"===e.key}));n[e]={choices:{$splice:[[a,1]]}}}o((0,s.default)(r,n))}(t,e)},onChoiceLabelChange:function(e,n){return function(e,t,n){var i={};i[e]={choices:{}},i[e].choices[t]={$merge:{label:n}},o((0,s.default)(r,i))}(t,e,n)},onDeleteChoice:function(e){return function(e,t){var n={};n[e]={choices:{$splice:[[t,1]]}},o((0,s.default)(r,n))}(t,e)},onAppendChoice:function(e){return function(e,t){var n=r[e].choices.length-1,i=j(),a={};a[e]=t?{choices:{$splice:[[n,0,i]]}}:{choices:{$push:[i]}},o((0,s.default)(r,a))}(t,e)}}))}))),l.default.createElement(g.default,(0,i.default)({onClick:function(){return S()}},w)),l.default.createElement("div",{className:"editpoll__question-container"},l.default.createElement("div",{className:"editpoll__question"},l.default.createElement(p.default,{handleToggleMulti:function(){return A()},handleToggleOpen:function(){return A({isOpen:!0})}})),l.default.createElement("div",{className:"editpoll__question-actions"},l.default.createElement("button",{type:"submit",className:"btn btn--primary"},u.default.gettext("Save")))))}},7870:function(e,t,n){"use strict";var r=n(4836),o=n(8698);Object.defineProperty(t,"__esModule",{value:!0}),t.EditPollOpenQuestion=void 0;var i=r(n(7424)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=o(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(7294)),l=r(n(8023)),u=r(n(4032)),c=n(6768);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}t.EditPollOpenQuestion=function(e){var t=(0,a.useState)(e.question.help_text),n=(0,i.default)(t,2),r=n[0],o=n[1];return a.default.createElement("section",{className:"editpoll__question-container"},a.default.createElement("div",{className:"editpoll__question"},a.default.createElement("div",{className:"editpoll__question--border"},a.default.createElement("div",{className:"form-group"},a.default.createElement("label",{htmlFor:"id_questions-"+e.id+"-name"},l.default.gettext("Question"),e.question.id&&a.default.createElement("span",{className:"editpoll__help-text"}," Id: Q",e.question.id),a.default.createElement("textarea",{id:"id_questions-"+e.id+"-name",name:"questions-"+e.id+"-name",value:e.question.label,onChange:function(t){e.onLabelChange(t.target.value)},"aria-invalid":e.errors?"true":"false","aria-describedby":e.errors&&"id_error-"+e.id}),a.default.createElement(u.default,{id:"id_error-"+e.id,error:e.errors,field:"label"}))),r?a.default.createElement(c.HelptextForm,{id:e.id,question:e.question,onHelptextChange:e.onHelptextChange,errors:e.errors}):null,a.default.createElement("button",{className:"btn "+(r?"editpoll__btn--dark":"editpoll__btn--question"),onClick:function(){return o(!r)},type:"button"},a.default.createElement("i",{className:"fa "+(r?"fa-check":"fa-plus")})," ",l.default.gettext("Explanation")))),a.default.createElement("div",{className:"editpoll__question-actions btn-group",role:"group"},a.default.createElement("button",{className:"btn poll__btn--light",onClick:e.onMoveUp,disabled:!e.onMoveUp,title:l.default.gettext("Move up"),type:"button"},a.default.createElement("i",{className:"fa fa-chevron-up","aria-label":l.default.gettext("Move up")})),a.default.createElement("button",{className:"btn poll__btn--light",onClick:e.onMoveDown,disabled:!e.onMoveDown,title:l.default.gettext("Move down"),type:"button"},a.default.createElement("i",{className:"fa fa-chevron-down","aria-label":l.default.gettext("Move down")})),a.default.createElement("button",{className:"btn poll__btn--light",onClick:e.onDelete,title:l.default.gettext("Delete"),type:"button"},a.default.createElement("i",{className:"fas fa-trash-alt","aria-label":l.default.gettext("Delete")}))))}},543:function(e,t,n){"use strict";var r=n(4836),o=n(8698);Object.defineProperty(t,"__esModule",{value:!0}),t.EditPollQuestion=void 0;var i=r(n(7424)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=o(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(7294)),l=n(6090),u=r(n(8023)),c=r(n(4032)),s=n(6768);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}var f=n(7794).default;t.EditPollQuestion=function(e){var t=(0,a.useState)(e.question.help_text),n=(0,i.default)(t,2),r=n[0],o=n[1],d=e.question.choices.find((function(e){return e.is_other_choice}));return a.default.createElement("section",{className:"editpoll__question-container"},a.default.createElement("div",{className:"editpoll__question"},a.default.createElement("div",{className:"form-group editpoll__question--border"},a.default.createElement("label",{htmlFor:"id_questions-"+e.id+"-name"},u.default.gettext("Question"),e.question.id&&a.default.createElement("span",{className:"editpoll__help-text"}," Id: Q",e.question.id),a.default.createElement("textarea",{id:"id_questions-"+e.id+"-name",name:"questions-"+e.id+"-name",value:e.question.label,onChange:function(t){e.onLabelChange(t.target.value)},"aria-invalid":e.errors?"true":"false","aria-describedby":e.errors&&"id_error-"+e.id}),a.default.createElement(c.default,{id:"id_error-"+e.id,error:e.errors,field:"label"})),r?a.default.createElement(s.HelptextForm,{id:e.id,question:e.question,onHelptextChange:e.onHelptextChange,errors:e.errors}):null,a.default.createElement("div",{className:"form-check"},a.default.createElement("label",{className:"form-check__label",htmlFor:"id_questions-"+e.id+"-multiple_choice"},a.default.createElement("input",{type:"checkbox",id:"id_questions-"+e.id+"-multiple_choice",name:"questions-"+e.id+"-multiple_choice",checked:e.question.multiple_choice,onChange:function(t){e.onMultipleChoiceChange(t.target.checked)}})," ",u.default.gettext("Participants can vote for more than one option (multiple choice)"))),a.default.createElement("div",{className:"form-check"},a.default.createElement("label",{className:"form-check__label",htmlFor:"id_questions-"+e.id+"-is_other_choice"},a.default.createElement("input",{type:"checkbox",id:"id_questions-"+e.id+"-is_other_choice",name:"questions-"+e.id+"-is_other_choice",checked:d||!1,onChange:function(t){e.onHasOtherChoiceChange(t.target.checked)},disabled:e.question.choices.length<3&&d})," ",u.default.gettext("Participants can add their own answer"))),a.default.createElement(f,{easing:"cubic-bezier(0.25, 0.5, 0.75, 1)"},e.question.choices.map((function(t,n){var r=t.id||t.key,o=u.default.pgettext("noun","Answer")+" #"+(n+1),i=e.errors&&e.errors.choices?e.errors.choices[n]:{};return t.is_other_choice?a.default.createElement("div",{key:r},a.default.createElement(l.EditPollChoice,{id:"id_questions-poll"+e.id+"-is_other_choice",index:n+1,label:u.default.gettext("Other"),choice:{label:u.default.gettext("Other")},choiceId:t.id,onDelete:function(){return e.onHasOtherChoiceChange(!1)},undeletable:e.question.choices.length<3,isOther:!0})):a.default.createElement("div",{key:r},a.default.createElement(l.EditPollChoice,{id:"id_questions-poll"+e.id+"-multiple_choice",index:n+1,label:o,choice:t,choiceId:t.id,onLabelChange:function(t){e.onChoiceLabelChange(n,t)},onDelete:function(){e.onDeleteChoice(n)},errors:i,undeletable:e.question.choices.length<3}))}))),a.default.createElement("div",{className:"editpoll__btns--question"},a.default.createElement("button",{className:"btn editpoll__btn--question",onClick:function(){return e.onAppendChoice(d)},type:"button"},a.default.createElement("i",{className:"fa fa-plus"})," ",u.default.gettext("New answer")),a.default.createElement("button",{className:"btn "+(r?"editpoll__btn--dark":"editpoll__btn--question"),onClick:function(){return o(!r)},type:"button"},a.default.createElement("i",{className:"fa "+(r?"fa-check":"fa-plus")})," ",u.default.gettext("Explanation"))))),a.default.createElement("div",{className:"editpoll__question-actions btn-group",role:"group"},a.default.createElement("button",{className:"btn poll__btn--light",onClick:e.onMoveUp,disabled:!e.onMoveUp,title:u.default.gettext("Move up"),type:"button"},a.default.createElement("i",{className:"fa fa-chevron-up","aria-label":u.default.gettext("Move up")})),a.default.createElement("button",{className:"btn poll__btn--light",onClick:e.onMoveDown,disabled:!e.onMoveDown,title:u.default.gettext("Move down"),type:"button"},a.default.createElement("i",{className:"fa fa-chevron-down","aria-label":u.default.gettext("Move down")})),a.default.createElement("button",{className:"btn poll__btn--light",onClick:e.onDelete,title:u.default.gettext("Delete"),type:"button"},a.default.createElement("i",{className:"fas fa-trash-alt","aria-label":u.default.gettext("Delete")}))))}},6768:function(e,t,n){"use strict";var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.HelptextForm=void 0;var o=r(n(7294)),i=r(n(8023)),a=r(n(4032));t.HelptextForm=function(e){return o.default.createElement("div",{className:"form-group"},o.default.createElement("label",{htmlFor:"id_helptext-"+e.id+"-name"},i.default.gettext("Explanation"),o.default.createElement("textarea",{id:"id_helptext-"+e.id+"-name",name:"helptext-"+e.id+"-name",value:e.question.help_text,onChange:function(t){e.onHelptextChange(t.target.value)},"aria-invalid":e.errors?"true":"false","aria-describedby":e.errors&&"id_error-"+e.id}),o.default.createElement(a.default,{id:"id_error-"+e.id,error:e.errors,field:"help_text"})))}},4179:function(e,t,n){"use strict";var r=n(4836)(n(7294)),o=n(745),i=n(3401),a=n(6951);document.addEventListener("DOMContentLoaded",(function(){(0,i.initialise)("a4","poll-management",(function(e){var t=e.dataset.pollId,n=(0,o.createRoot)(e),i=JSON.parse(e.getAttribute("data-reloadOnSuccess"));n.render(r.default.createElement(a.EditPollManagement,{pollId:t,reloadOnSuccess:i}))}))}),!1)},7794:function(e,t,n){"use strict";n.r(t);var r=n(7294),o=n(3935);function i(e){var t=!1;return function(){t||(console.warn(e),t=!0)}}i("\n>> Error, via react-flip-move <<\n\nYou provided a stateless functional component as a child to <FlipMove>. Unfortunately, SFCs aren't supported, because Flip Move needs access to the backing instances via refs, and SFCs don't have a public instance that holds that info.\n\nPlease wrap your components in a native element (eg. <div>), or a non-functional component.\n"),i("\n>> Error, via react-flip-move <<\n\nYou provided a primitive (text or number) node as a child to <FlipMove>. Flip Move needs containers with unique keys to move children around.\n\nPlease wrap your value in a native element (eg. <span>), or a component.\n");var a=i("\n>> Warning, via react-flip-move <<\n\nWhen using \"wrapperless\" mode (by supplying 'typeName' of 'null'), strange things happen when the direct parent has the default \"static\" position.\n\nFlipMove has added 'position: relative' to this node, to ensure Flip Move animates correctly.\n\nTo avoid seeing this warning, simply apply a non-static position to that parent node.\n"),l=i("\n>> Warning, via react-flip-move <<\n\nOne or more of Flip Move's child elements have the html attribute 'disabled' set to true.\n\nPlease note that this will cause animations to break in Internet Explorer 11 and below. Either remove the disabled attribute or set 'animation' to false.\n"),u={elevator:{from:{transform:"scale(0)",opacity:"0"},to:{transform:"",opacity:""}},fade:{from:{opacity:"0"},to:{opacity:""}},accordionVertical:{from:{transform:"scaleY(0)",transformOrigin:"center top"},to:{transform:"",transformOrigin:"center top"}},accordionHorizontal:{from:{transform:"scaleX(0)",transformOrigin:"left center"},to:{transform:"",transformOrigin:"left center"}},none:null},c={elevator:{from:{transform:"scale(1)",opacity:"1"},to:{transform:"scale(0)",opacity:"0"}},fade:{from:{opacity:"1"},to:{opacity:"0"}},accordionVertical:{from:{transform:"scaleY(1)",transformOrigin:"center top"},to:{transform:"scaleY(0)",transformOrigin:"center top"}},accordionHorizontal:{from:{transform:"scaleX(1)",transformOrigin:"left center"},to:{transform:"scaleX(0)",transformOrigin:"left center"}},none:null},s=u,d="elevator",f=function(e,t){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return t[n]},p=function(e){return(p=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)};var h,m,g=(h=function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()},m={},function(e){return m[e]||(m[e]=h(e)),m[e]}),v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},E=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t};function x(e){var t,n;return n=t=function(t){function n(){return y(this,n),E(this,t.apply(this,arguments))}return _(n,t),n.prototype.checkChildren=function(e){},n.prototype.convertProps=function(e){var t={children:e.children,easing:e.easing,onStart:e.onStart,onFinish:e.onFinish,onStartAll:e.onStartAll,onFinishAll:e.onFinishAll,typeName:e.typeName,disableAllAnimations:e.disableAllAnimations,getPosition:e.getPosition,maintainContainerHeight:e.maintainContainerHeight,verticalAlignment:e.verticalAlignment,duration:this.convertTimingProp("duration"),delay:this.convertTimingProp("delay"),staggerDurationBy:this.convertTimingProp("staggerDurationBy"),staggerDelayBy:this.convertTimingProp("staggerDelayBy"),appearAnimation:this.convertAnimationProp(e.appearAnimation,s),enterAnimation:this.convertAnimationProp(e.enterAnimation,u),leaveAnimation:this.convertAnimationProp(e.leaveAnimation,c),delegated:{}};this.checkChildren(t.children);var n=Object.keys(t),r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}(this.props,n);return r.style=b({position:"relative"},r.style),t.delegated=r,t},n.prototype.convertTimingProp=function(e){var t=this.props[e],r="number"==typeof t?t:parseInt(t,10);return isNaN(r)?n.defaultProps[e]:r},n.prototype.convertAnimationProp=function(e,t){switch(void 0===e?"undefined":v(e)){case"boolean":return t[e?d:"none"];case"string":return-1===Object.keys(t).indexOf(e)?t[d]:t[e];default:return e}},n.prototype.render=function(){return r.createElement(e,this.convertProps(this.props))},n}(r.Component),t.defaultProps={easing:"ease-in-out",duration:350,delay:0,staggerDurationBy:0,staggerDelayBy:0,typeName:"div",enterAnimation:d,leaveAnimation:d,disableAllAnimations:!1,getPosition:function(e){return e.getBoundingClientRect()},maintainContainerHeight:!1,verticalAlignment:"top"},n}function N(e){var t=e.domNode,n=e.styles;Object.keys(n).forEach((function(e){t.style.setProperty(g(e),n[e])}))}var w=function(e){var t=e.childDomNode,n={top:0,left:0,right:0,bottom:0,height:0,width:0},r=e.childBoundingBox||n,o=e.parentBoundingBox||n,i=(0,e.getPosition)(t),a=i.top-o.top,l=i.left-o.left;return[r.left-l,r.top-a]},C=function(e,t){var n=t.delay,r=t.duration,o=t.staggerDurationBy,i=t.staggerDelayBy,a=t.easing;n+=e*i,r+=e*o;return["transform","opacity"].map((function(e){return e+" "+r+"ms "+a+" "+n+"ms"})).join(", ")},O=function(){var e={transition:"transitionend","-o-transition":"oTransitionEnd","-moz-transition":"transitionend","-webkit-transition":"webkitTransitionEnd"};if("undefined"==typeof document)return"";var t=document.createElement("fakeelement"),n=f((function(e){return void 0!==t.style.getPropertyValue(e)}),Object.keys(e));return n?e[n]:""}(),D=!O;function P(e){return e.key||""}function A(e){return r.Children.toArray(e)}var k=function(e){function t(){var n,r;y(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=E(this,e.call.apply(e,[this].concat(l))),r.state={children:A(r.props?r.props.children:[]).map((function(e){return b({},e,{element:e,appearing:!0})}))},r.childrenData={},r.parentData={domNode:null,boundingBox:null},r.heightPlaceholderData={domNode:null},r.remainingAnimations=0,r.childrenToAnimate=[],r.findDOMContainer=function(){var e=o.findDOMNode(r),t=e&&e.parentNode;t&&t instanceof HTMLElement&&("static"===window.getComputedStyle(t).position&&(t.style.position="relative",a()),r.parentData.domNode=t)},r.runAnimation=function(){var e=r.state.children.filter(r.doesChildNeedToBeAnimated),t=e.map((function(e){return r.computeInitialStyles(e)}));e.forEach((function(e,n){r.remainingAnimations+=1,r.childrenToAnimate.push(P(e)),r.animateChild(e,n,t[n])})),"function"==typeof r.props.onStartAll&&r.callChildrenHook(r.props.onStartAll)},r.doesChildNeedToBeAnimated=function(e){if(!P(e))return!1;var t=r.getChildData(P(e)),n=t.domNode,o=t.boundingBox,i=r.parentData.boundingBox;if(!n)return!1;var a=r.props,l=a.appearAnimation,u=a.enterAnimation,c=a.leaveAnimation,s=a.getPosition,d=e.appearing&&l,f=e.entering&&u,p=e.leaving&&c;if(d||f||p)return!0;var h=w({childDomNode:n,childBoundingBox:o,parentBoundingBox:i,getPosition:s}),m=h[0],g=h[1];return 0!==m||0!==g},E(r,n)}return _(t,e),t.prototype.componentDidMount=function(){null===this.props.typeName&&this.findDOMContainer(),this.props.appearAnimation&&!this.isAnimationDisabled(this.props)&&(this.prepForAnimation(),this.runAnimation())},t.prototype.componentDidUpdate=function(e){null===this.props.typeName&&this.findDOMContainer(),!function(e,t){if(e===t)return!0;var n=!p(e)||!p(t),r=e.length!==t.length;return!n&&!r&&function(e,t){for(var n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0}((function(e,n){return e===t[n]}),e)}(A(this.props.children).map((function(e){return e.key})),A(e.children).map((function(e){return e.key})))&&!this.isAnimationDisabled(this.props)&&(this.prepForAnimation(),this.runAnimation())},t.prototype.calculateNextSetOfChildren=function(e){var t=this,n=e.map((function(e){var n=t.findChildByKey(e.key),r=!n||n.leaving;return b({},e,{element:e,entering:r})})),r=0;return this.state.children.forEach((function(o,i){if(!f((function(e){return e.key===P(o)}),e)&&t.props.leaveAnimation){var a=b({},o,{leaving:!0}),l=i+r;n.splice(l,0,a),r+=1}})),n},t.prototype.prepForAnimation=function(){var e=this,t=this.props,n=t.leaveAnimation,r=t.maintainContainerHeight,o=t.getPosition;n&&(this.state.children.filter((function(e){return e.leaving})).forEach((function(t){var n=e.getChildData(P(t));!e.isAnimationDisabled(e.props)&&n.domNode&&n.domNode.disabled&&l(),n.boundingBox&&function(e,t){var n=e.domNode,r=e.boundingBox;if(n&&r){var o=window.getComputedStyle(n),i=["margin-top","margin-left","margin-right"].reduce((function(e,t){var n,r=o.getPropertyValue(t);return b({},e,((n={})[t]=Number(r.replace("px","")),n))}),{});N({domNode:n,styles:{position:"absolute",top:("bottom"===t?r.top-r.height:r.top)-i["margin-top"]+"px",left:r.left-i["margin-left"]+"px",right:r.right-i["margin-right"]+"px"}})}}(n,e.props.verticalAlignment)})),r&&this.heightPlaceholderData.domNode&&function(e){var t=e.domNode,n=e.parentData,r=e.getPosition,o=n.domNode,i=n.boundingBox;if(o&&i){N({domNode:t,styles:{height:"0"}});var a=i.height-r(o).height;N({domNode:t,styles:{height:a>0?a+"px":"0"}})}}({domNode:this.heightPlaceholderData.domNode,parentData:this.parentData,getPosition:o}));this.state.children.forEach((function(t){var n=e.getChildData(P(t)).domNode;n&&(t.entering||t.leaving||N({domNode:n,styles:{transition:""}}))}))},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.updateBoundingBoxCaches();var t=A(e.children);this.setState({children:this.isAnimationDisabled(e)?t.map((function(e){return b({},e,{element:e})})):this.calculateNextSetOfChildren(t)})},t.prototype.animateChild=function(e,t,n){var r=this,o=this.getChildData(P(e)).domNode;o&&(N({domNode:o,styles:n}),this.props.onStart&&this.props.onStart(e,o),requestAnimationFrame((function(){requestAnimationFrame((function(){var n={transition:C(t,r.props),transform:"",opacity:""};e.appearing&&r.props.appearAnimation?n=b({},n,r.props.appearAnimation.to):e.entering&&r.props.enterAnimation?n=b({},n,r.props.enterAnimation.to):e.leaving&&r.props.leaveAnimation&&(n=b({},n,r.props.leaveAnimation.to)),N({domNode:o,styles:n})}))})),this.bindTransitionEndHandler(e))},t.prototype.bindTransitionEndHandler=function(e){var t=this,n=this.getChildData(P(e)).domNode;if(n){n.addEventListener(O,(function r(o){o.target===n&&(n.style.transition="",t.triggerFinishHooks(e,n),n.removeEventListener(O,r),e.leaving&&t.removeChildData(P(e)))}))}},t.prototype.triggerFinishHooks=function(e,t){var n=this;if(this.props.onFinish&&this.props.onFinish(e,t),this.remainingAnimations-=1,0===this.remainingAnimations){var r=this.state.children.filter((function(e){return!e.leaving})).map((function(e){return b({},e,{element:e.element,appearing:!1,entering:!1})}));this.setState({children:r},(function(){"function"==typeof n.props.onFinishAll&&n.callChildrenHook(n.props.onFinishAll),n.childrenToAnimate=[]})),this.heightPlaceholderData.domNode&&(this.heightPlaceholderData.domNode.style.height="0")}},t.prototype.callChildrenHook=function(e){var t=this,n=[],r=[];this.childrenToAnimate.forEach((function(e){var o=t.findChildByKey(e);o&&(n.push(o),t.hasChildData(e)&&r.push(t.getChildData(e).domNode))})),e(n,r)},t.prototype.updateBoundingBoxCaches=function(){var e=this,t=this.parentData.domNode;if(t){this.parentData.boundingBox=this.props.getPosition(t);var n=[];this.state.children.forEach((function(r){var o=P(r);if(o)if(e.hasChildData(o)){var i=e.getChildData(o);i.domNode&&r?n.push(function(e){var t=e.childDomNode,n=e.parentDomNode,r=e.getPosition,o=r(n),i=r(t),a=i.top,l=i.left,u=i.right,c=i.bottom,s=i.width,d=i.height;return{top:a-o.top,left:l-o.left,right:o.right-u,bottom:o.bottom-c,width:s,height:d}}({childDomNode:i.domNode,parentDomNode:t,getPosition:e.props.getPosition})):n.push(null)}else n.push(null);else n.push(null)})),this.state.children.forEach((function(t,r){var o=P(t),i=n[r];o&&e.setChildData(o,{boundingBox:i})}))}},t.prototype.computeInitialStyles=function(e){if(e.appearing)return this.props.appearAnimation?this.props.appearAnimation.from:{};if(e.entering)return this.props.enterAnimation?b({position:"",top:"",left:"",right:"",bottom:""},this.props.enterAnimation.from):{};if(e.leaving)return this.props.leaveAnimation?this.props.leaveAnimation.from:{};var t=this.getChildData(P(e)),n=t.domNode,r=t.boundingBox,o=this.parentData.boundingBox;if(!n)return{};var i=w({childDomNode:n,childBoundingBox:r,parentBoundingBox:o,getPosition:this.props.getPosition});return{transform:"translate("+i[0]+"px, "+i[1]+"px)"}},t.prototype.isAnimationDisabled=function(e){return D||e.disableAllAnimations||0===e.duration&&0===e.delay&&0===e.staggerDurationBy&&0===e.staggerDelayBy},t.prototype.findChildByKey=function(e){return f((function(t){return P(t)===e}),this.state.children)},t.prototype.hasChildData=function(e){return Object.prototype.hasOwnProperty.call(this.childrenData,e)},t.prototype.getChildData=function(e){return this.hasChildData(e)?this.childrenData[e]:{}},t.prototype.setChildData=function(e,t){this.childrenData[e]=b({},this.getChildData(e),t)},t.prototype.removeChildData=function(e){delete this.childrenData[e],this.setState((function(t){return b({},t,{children:t.children.filter((function(t){return t.element.key!==e}))})}))},t.prototype.createHeightPlaceholder=function(){var e=this,t=this.props.typeName,n="ul"===t||"ol"===t?"li":"div";return(0,r.createElement)(n,{key:"height-placeholder",ref:function(t){e.heightPlaceholderData.domNode=t},style:{visibility:"hidden",height:0}})},t.prototype.childrenWithRefs=function(){var e=this;return this.state.children.map((function(t){return(0,r.cloneElement)(t.element,{ref:function(n){if(n){var r=function(e){if("undefined"==typeof HTMLElement)return null;if(e instanceof HTMLElement)return e;var t=(0,o.findDOMNode)(e);return t&&t.nodeType===Node.TEXT_NODE?null:t}(n);e.setChildData(P(t),{domNode:r})}}})}))},t.prototype.render=function(){var e=this,t=this.props,n=t.typeName,o=t.delegated,i=t.leaveAnimation,a=t.maintainContainerHeight,l=this.childrenWithRefs();if(i&&a&&l.push(this.createHeightPlaceholder()),!n)return l;var u=b({},o,{children:l,ref:function(t){e.parentData.domNode=t}});return(0,r.createElement)(n,u)},t}(r.Component),M=x(k);t.default=M},7156:function(e){function t(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(o,i){var a=e.apply(n,r);function l(e){t(a,o,i,l,u,"next",e)}function u(e){t(a,o,i,l,u,"throw",e)}l(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},7061:function(e,t,n){var r=n(8698).default;function o(){"use strict";e.exports=o=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,i=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",s=l.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new P(r||[]);return a(i,"_invoke",{value:w(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var h={};function m(){}function g(){}function v(){}var y={};d(y,u,(function(){return this}));var b=Object.getPrototypeOf,_=b&&b(b(A([])));_&&_!==n&&i.call(_,u)&&(y=_);var E=v.prototype=m.prototype=Object.create(y);function x(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(o,a,l,u){var c=p(e[o],e,a);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==r(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,l,u)}),(function(e){n("throw",e,l,u)})):t.resolve(d).then((function(e){s.value=e,l(s)}),(function(e){return n("throw",e,l,u)}))}u(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var l=C(a,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=p(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=p(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function A(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:k}}function k(){return{value:void 0,done:!0}}return g.prototype=v,a(E,"constructor",{value:v,configurable:!0}),a(v,"constructor",{value:g,configurable:!0}),g.displayName=d(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,d(e,s,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},x(N.prototype),d(N.prototype,c,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new N(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(E),d(E,s,"Generator"),d(E,u,(function(){return this})),d(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(D),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),D(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;D(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},4687:function(e,t,n){var r=n(7061)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},function(e){var t;t=4179,e(e.s=t)}]);
//# sourceMappingURL=poll_management.js.map