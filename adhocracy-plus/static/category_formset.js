"use strict";(self.webpackChunkadhocracy_plus=self.webpackChunkadhocracy_plus||[]).push([[94],{9483:function(t,e,r){var i=r(5825);window.addEventListener("load",(function(){var t=document.querySelectorAll(".js-formset"),e=/__prefix__/g,r=[],o={style:"category-icon-select__btn",styleDropdown:"category-icon-select"},s=function(t){this.formset=t,this.formTemplate=this.formset.querySelector(".js-form-template"),this.prefix=this.formset.dataset.prefix,this.totalInput=this.formset.querySelector("#id_"+this.prefix+"-TOTAL_FORMS"),this.total=parseInt(this.totalInput.value),this.maxNum=parseInt(this.formset.querySelector("#id_"+this.prefix+"-MAX_NUM_FORMS").value),this.formset.querySelector(".js-add-form").addEventListener("click",n.bind(this))},n=function(){if(this.total<this.maxNum){this.total+=1,this.totalInput.value=this.total;var t=(r=this.formTemplate,s=this.total-1,r.innerHTML.replace(e,s));this.formTemplate.insertAdjacentHTML("beforebegin",t),this.formTemplate.previousElementSibling.querySelector(".js-remove-form").addEventListener("click",l.bind(this)),i.fn.selectdropdown&&i(this.formTemplate.previousElementSibling.querySelector(".category-icon-select")).selectdropdown(o)}var r,s},l=function(t){var e=this;this.total-=1,this.totalInput.value=this.total;for(var r=t.currentTarget.closest(".js-form"),i=Array.from(this.formset.querySelectorAll(".js-form")).indexOf(r),o=function(t,r,o){if(t.hasAttribute(r)){var s=e.prefix+"-"+(i+o+1),n=e.prefix+"-"+(i+o);t.setAttribute(r,t.getAttribute(r).replace(s,n))}},s=r.nextElementSibling;s&&s!==this.formTemplate;)Array.from(s.firstElementChild.children).forEach((function(t,e){o(t,"name",e),o(t,"for",e),o(t,"id",e)})),s=s.nextElementSibling;r.remove()};t.forEach((function(t,e){r.push(new s(t))})),i.fn.selectdropdown&&i(".category-icon-select").not(".js-form-template .category-icon-select").selectdropdown(o)}))}},function(t){var e;e=9483,t(t.s=e)}]);
//# sourceMappingURL=category_formset.js.map